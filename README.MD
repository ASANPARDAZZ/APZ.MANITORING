EthVM _apz_chain 
---

๐ ูุณุชูุฏ ุฌุงูุน ุณุงุฎุชุงุฑ EthVM ุจุฑุง APZ Chain

๐งญ ููุง ฺฉู
EthVM ุจุฑุง APZ Chain ุงุฒ ูุนูุงุฑ ูุงฺููุงุฑ ุจูุฑู ูโุจุฑุฏ ฺฉู ุดุงูู ูพฺฉุฑุจูุฏ ุฒูุฌุฑูุ ุฑูุฒฺฏุดุง ABIุ ุงูุฏฺฉุณูฺฏุ ูุงูุชูุฑูฺฏุ ู ุฑุงุจุท ฺฉุงุฑุจุฑ ุงุณุช. ุงู ุณุงุฎุชุงุฑ ุจูโฺฏูููโุง ุทุฑุงุญ ุดุฏู ฺฉู:
- ูุงุจู ุจุงุฒุชููุฏ (reproducible) ุจุงุดุฏ
- ูุงุจู ูุงูุชูุฑูฺฏ ู ูุงุจู ูุดุงูุฏู (observable) ุจุงุดุฏ
- ูุณุชูุฏ ู ูุงุจู ุชูุณุนู (extensible) ุจุงุดุฏ

---

๐ ุณุงุฎุชุงุฑ ูุงูโูุง ู ููุด ุขูโูุง

1. โ๏ธ ูพฺฉุฑุจูุฏ ุฒูุฌุฑู

| ูุณุฑ ูุงู | ููุด |
|-----------|------|
| packages/config/chain-configs/apz.json | ุชุนุฑู ูุดุฎุตุงุช ุฒูุฌุฑู ุจุฑุง backend |
| packages/web/src/config/chains/apz.ts | ุชุนุฑู ูุดุฎุตุงุช ุฒูุฌุฑู ุจุฑุง frontend |

ูุญุชูุง:
- name: ูุงู ุฒูุฌุฑู
- chainId: ุดูุงุณู ฺฉุชุง
- rpcUrl: ุขุฏุฑุณ RPC
- explorerUrl: ุขุฏุฑุณ ูุฑูุฑฺฏุฑ ุจูุงฺฉ
- symbol: ููุงุฏ ุชูฺฉู
- decimals: ุชุนุฏุงุฏ ุงุนุดุงุฑ
- logo: ูุณุฑ ููฺฏู

๐ ุงู ุฏู ูุงู ุจุงุฏ ููุดู ุจุง ูู ููุงููฺฏ ุจุงุดูุฏ.

---

2. ๐ง ABI ู ุฑูุฒฺฏุดุง ูุงฺฏโูุง

| ูุณุฑ ูุงู | ููุด |
|-----------|------|
| packages/decoder/src/abi/apz-token.json | ุชุนุฑู ABI ุชูฺฉู APZ |
| packages/indexer/src/parsers/apz.ts | ุฑูุฒฺฏุดุง ูุงฺฏโูุง ุจุง ุงุณุชูุงุฏู ุงุฒ ABI |

ุชูุงุจุน ABI:
- name(), symbol(), decimals(): ุงุทูุงุนุงุช ูพุงู ุชูฺฉู
- balanceOf(address): ููุฌูุฏ ุขุฏุฑุณ

ุชุงุจุน parseApzLog:
- ูุฑูุฏ: LogDescription
- ุฎุฑูุฌ: event, args, address

---

3. ๐งฑ ุงูุฏฺฉุณุฑ ู ูุงูุชูุฑูฺฏ

| ูุณุฑ ูุงู | ููุด |
|-----------|------|
| packages/indexer/src/index.ts | ููุทู ูุฑูุฏ ุงูุฏฺฉุณุฑ |
| packages/indexer/src/monitor.ts | ฺฏุฒุงุฑุด ูุชุฑฺฉโูุง |
| packages/monitoring/metrics.ts | ุชุนุฑู ูุชุฑฺฉโูุง ุจุง prom-client |
| Prometheus endpoint | ุงุฑุงุฆู ูุชุฑฺฉโูุง ุฑู ูพูุฑุช 9090 |
| monitoring/prometheus.yml | ูพฺฉุฑุจูุฏ scrape ุฏุฑ Prometheus |

ูุชุฑฺฉโูุง:
- apzlastsynced_block: ุขุฎุฑู ุจูุงฺฉ ุณูฺฉโุดุฏู
- apzindexererrors_total: ุชุนุฏุงุฏ ุฎุทุงูุง
- apzrpclatency_seconds: ุฒูุงู ูพุงุณุฎโุฏู RPC

ุฒูุงูโุจูุฏ:
- setInterval(reportMetrics, 30000): ูุฑ ณฐ ุซุงูู

---

4. ๐ณ Docker ู ูุญุท ุงุฌุฑุง

| ูุณุฑ ูุงู | ููุด |
|-----------|------|
| docker-compose.override.yml | ุชุนุฑู ูุชุบุฑูุง ูุญุท ุจุฑุง indexer ู web |

ูุชุบุฑูุง ููู:
- CHAIN=apz
- RPC_URL=https://rpc.apzchain.org
- NEXTPUBLICCHAIN_ID=12345

---

๐ ุงุฑุชุจุงุท ุจู ูุงฺููโูุง

`mermaid
graph TD
  A[apz.json] --> B[indexer]
  A --> C[web]
  B --> D[monitor.ts]
  D --> E[metrics.ts]
  E --> F[Prometheus endpoint]
  F --> G[prometheus.yml]
  B --> H[parsers/apz.ts]
  H --> I[abi/apz-token.json]
`

---

๐งช ูพุดููุงุฏูุง ุชูุณุนู ุขูุฏู

โ ุงูุฒูุฏู ุชุณุชโูุง ูุงุญุฏ ุจุฑุง parseApzLog  
โ ูพุดุชุจุงู ุงุฒ ฺูุฏ ุฒูุฌุฑู ุจุง ุงูฺฏู ูุดุงุจู apz.json  
โ ุงูุฒูุฏู ูุชุฑฺฉโูุง ุจุดุชุฑ ูุงููุฏ TPSุ ุชุนุฏุงุฏ ุชุฑุงฺฉูุดโูุง ูููู/ูุงูููู  
โ ุงูุฒูุฏู alerting ุจุง Alertmanager ุจุฑุง ุฎุทุงูุง ูฺฉุฑุฑ ุง ุชุฃุฎุฑ ุจุงูุง  
โ ูุณุชูุฏุณุงุฒ Swagger/OpenAPI ุจุฑุง APIูุง indexer (ุฏุฑ ุตูุฑุช ูุฌูุฏ)  
โ ุงูุฒูุฏู health check endpoint ุจุฑุง readiness/liveness probe

---
